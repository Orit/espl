https://github.com/dtolpin/espl/blob/master/2012/lab2/canalyze/namelist.c